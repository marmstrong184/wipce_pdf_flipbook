<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Page Flip</title>
</head>
<body>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }

        .flipbook-page-container {
            perspective: 2000px;
        }

        canvas {
            transform-origin: top;

            border: 10px solid red;
        }

        .flipbook-page-flipped {
            animation-duration: 0.75s;
            animation-name: flippage;
            animation-iteration-count: 1;
            animation-direction: normal;
            animation-timing-function: cubic-bezier(0.71, 0.5, 0.59, 0.35);
            transform: rotateX(270deg);
        
        }

        @keyframes flippage {
            0% {
                transform: rotateX(0deg);
            }
        
            35% {
                filter: contrast(100%) brightness(1.0) grayscale(0);
            }
        
            60% {
                filter: contrast(0%) brightness(5.0) grayscale(1);
            }
        
            100% {
                transform: rotateX(270deg);
                filter: contrast(0%) brightness(5.0) grayscale(1);
            }
        }

        .flipbook-page-unflipped {
            animation-duration: 0.75s;
            animation-name: unflippage;
            animation-iteration-count: 1;
            animation-direction: normal;
        
            animation-timing-function: cubic-bezier(0.71, 0.5, 0.59, 0.35);
            transform: rotateX(0deg);
        
        }
        
        @keyframes unflippage {
            0% {
                transform: rotateX(270deg);
            }
        
            35% {
                /* filter: contrast(100%) brightness(1.0) grayscale(0); */
            }
        
            60% {
                /* filter: contrast(0%) brightness(5.0) grayscale(1); */
            }
        
            100% {
                transform: rotateX(0deg);
                /* filter: contrast(0%) brightness(5.0) grayscale(1); */
            }
        }
    </style>

    <div class="flipbook-page-container">
        <canvas id="canvasFlip" width="400" height="300"></canvas>
    </div>
    
    <button id="flipButton">Flip Page</button>

    <div class="flipbook-page-container">
        <canvas id="canvasUnflip" width="400" height="300"></canvas>
    </div>
    
    <button id="unflipButton">Unflip Page</button>

    <script>
        const canvasFlip = document.getElementById('canvasFlip');
        const flipButton = document.getElementById('flipButton');
            
        let isFlipped = false;
            
        flipButton.addEventListener('click', () => {
            isFlipped = !isFlipped;
            canvasFlip.classList.toggle('flipbook-page-flipped', isFlipped);
        });
        
        // Optional: Drawing something on the canvas for demonstration
        const ctxFlip = canvasFlip.getContext('2d');
        ctxFlip.fillStyle = '#4CAF50';
        ctxFlip.fillRect(50, 50, 300, 200);
        ctxFlip.fillStyle = '#FFF';
        ctxFlip.font = '20px Arial';
        ctxFlip.fillText('Flip page Content', 150, 150);


        const canvasUnflip = document.getElementById('canvasUnflip');
        const unflipButton = document.getElementById('unflipButton');
            
        let isUnflipped = false;
            
        unflipButton.addEventListener('click', () => {
            isUnflipped = !isUnflipped;
            canvasUnflip.classList.toggle('flipbook-page-unflipped', isUnflipped);
        });
        
        // Optional: Drawing something on the canvas for demonstration
        const ctxUnflip = canvasUnflip.getContext('2d');
        ctxUnflip.fillStyle = '#4CAF50';
        ctxUnflip.fillRect(50, 50, 300, 200);
        ctxUnflip.fillStyle = '#FFF';
        ctxUnflip.font = '20px Arial';
        ctxUnflip.fillText('Unflip page Content', 150, 150);
    </script>
</body>
</html>